{% macro dateRange(date1, date2) %}
    {% if (date2 is defined and date2 is not null) and date1 != date2 %}
        {% if date1|date('Y') == date2|date('Y') %}
            {% if date1|date('m') == date2|date('m') %}
                {{ date1|date('d') }} &gt; {{ date2|date('d/m/Y') }}
            {% else %}
                 {{ date1|date('d/m') }} &gt; {{ date2|date('d/m/Y') }}
            {% endif %}
        {% else %}
            {{ date1|date('d/m/Y') }} &gt; {{ date2|date('d/m/Y') }}
        {% endif %}
    {% else %}
        {{ date1|date('d/m/Y') }}
    {% endif %}
{% endmacro %}